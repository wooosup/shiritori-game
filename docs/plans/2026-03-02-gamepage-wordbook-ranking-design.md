# Shiritori App UX Upgrade Design (GamePage + WordBook + Ranking)

## 1) 목표
- GamePage의 몰입감과 정보 가독성을 높여 플레이 완성도를 끌어올린다.
- 하단 탭 UX를 앱다운 구조로 정리한다: 단어장/랭킹은 페이지, 퀴즈는 빠른 모달.
- 기존 동작 안정성(인증, 게임 세션, SFX, 다크모드)은 유지하면서 시각 완성도를 높인다.

## 2) 범위
- 포함
  - `GamePage` UI 계층 재정리(상태 스트립, 타임라인, 입력 독)
  - `WordBook`/`Ranking`의 모달 → 페이지 전환
  - `Quiz`는 홈에서 즉시 실행 가능한 모달 유지
  - 하단 탭 활성 상태, 피드백, 접근성 개선
- 제외
  - 게임 규칙/점수 도메인 로직 변경
  - 푸시/오프라인 등 신규 플랫폼 기능

## 3) 정보구조(IA)
- `/` 홈: 시작/오늘의 단어/내 기록/퀵 액션
- `/game`: 게임 플레이 전용 화면
- `/wordbook`: 단어장 페이지
- `/ranking`: 랭킹 페이지
- 퀴즈: 홈에서 여는 `QuizModal` 유지

원칙:
- 탭은 페이지 전환, 퀴즈는 빠른 학습 액션
- 게임 화면은 몰입 우선(탭 노출 없음)

## 4) 시각 방향
- 방향: **정돈된 아케이드(Refined Arcade)**
- 색/톤: 기존 인디고 포인트 유지, 상태색 의미 분리(정상/경고/위험)
- 타이포: 현재 일본어/한글 가독성을 유지하며 정보 계층(제목/수치/보조텍스트) 명확화
- 모션: 과한 효과 대신 상태 전환 위주의 명확한 피드백

## 5) 화면별 설계

### 5.1 GamePage
- 상단 고정 상태 스트립
  - 좌: 뒤로가기, 난이도
  - 중: PASS 버튼 + 남은 횟수 배지
  - 우: 일시정지, 콤보, 점수
- 타이머
  - 대비 강화, 5초 이하는 위험 표현 강화
- 메인 타임라인
  - AI/USER 말풍선 규칙 통일
  - 시스템 안내(예: PASS 결과)는 별도 시스템 칩 스타일로 분리
- 하단 입력 독
  - 입력/전송 영역 높이와 상태(비활성/일시정지/로딩) 표현 통일
- 오버레이 우선순위
  - 결과 > PASS 확인 > 일시정지 > 토스트

### 5.2 WordBookPage (`/wordbook`)
- 검색 + 뷰 토글(읽기/뜻)
- 리스트 카드 중심 구조
- 빈 상태/로딩 스켈레톤/오류 재시도 제공
- 삭제 액션은 명시적 확인 유지

### 5.3 RankingPage (`/ranking`)
- 상단 요약(내 최고 기록/내 위치)
- 랭킹 리스트 가독성 강화(순위/닉네임/점수/콤보)
- 로딩/오류/빈 상태 표준화

### 5.4 Home + QuizModal
- 홈은 시작 허브 역할 유지
- 퀴즈는 모달로 빠르게 진입/종료
- 완료 후 홈 복귀 흐름 단순화

## 6) 상태/데이터 흐름
- 전역: `settingsStore`(테마/SFX)
- 인증/세션: 기존 `supabase + authStore` 유지
- 게임 세션 복원: `GamePage`의 snapshot 로직 유지
- API 에러 처리: `src/api/error.ts` 기반으로 메시지/상태 처리 일관화

## 7) 에러/예외 처리
- 401/세션 만료: 공통 처리 유지
- 페이지별 오류 표현: 상단 인라인 배너 + 재시도 액션
- 중복 토스트/중복 모달 방지: 현재 우선순위 규칙 유지

## 8) 테스트 전략
- 라우팅 스모크
  - 홈 ↔ 단어장 ↔ 랭킹 전환 렌더 확인
- GamePage
  - 타이머/일시정지/입력 비활성 상태 DOM 검증
- 회귀
  - `npm run lint`
  - `npm run test:run`
  - `npm run build`

## 9) 리스크와 완화
- 리스크: 모달에서 페이지로 전환 시 상태 핸들러 유실
- 완화: 공통 로직을 훅/유틸로 분리 후 점진 전환

- 리스크: GamePage 시각 개편으로 상태 표시 혼선
- 완화: 상태 스트립 구성요소를 고정 레이아웃으로 명시

## 10) 성공 기준
- GamePage에서 주요 상태(시간/PASS/점수/일시정지)를 1초 이내 인지 가능
- 단어장/랭킹 진입 흐름이 모달 대비 명확해지고, 탭 활성 상태 오인식 0
- 기존 빌드/테스트/린트 회귀 없이 통과
